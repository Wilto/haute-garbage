---
layout: layouts/base.njk
permalink: /recipes/tagged/{{ tag }}/
pagination:
  data: collections
  size: 1
  alias: tag
  filter:
    - all
    - nav
    - footnav
    - subnav
    - post
    - posts
    - tagList
addAllPagesToCollections: true
---

{% set postslist = collections[ tag ] | reverse %}
{% macro respimg(path, img, sizes, alt, lazy=false) %}
	<picture>
		<source type="image/webp"
			sizes="{{ sizes }}"
			srcset="
				{{ path }}{{ img }}-1.webp 320w,
				{{ path }}{{ img }}-2.webp 450w,
				{{ path }}{{ img }}-3.webp 640w,
				{{ path }}{{ img }}-4.webp 820w,
				{{ path }}{{ img }}-5.webp 1024w">
		<img 
			{% if lazy %}loading="lazy"{% endif %}
			sizes="{{ sizes }}"
			srcset="
				{{ path }}{{ img }}-1.jpg 320w,
				{{ path }}{{ img }}-2.jpg 450w,
				{{ path }}{{ img }}-3.jpg 640w,
				{{ path }}{{ img }}-4.jpg 820w,
				{{ path }}{{ img }}-5.jpg 1024w"
			src="{{ path }}{{ img }}-4.jpg" 
			alt="{{ alt }}">
	</picture>
{% endmacro %}

<h2 class="section-hed" id="results">Recipes Tagged: <b>{{ tag }}</b></h2>

<div class="results" aria-labelledby="results">
	{% for post in postslist %}
	<article class="item result-split">
		{% if post.data.img %}
		<a href="{{ post.url | url }}" aria-hidden="true" tabindex="-1">
			{{ respimg(
				'/img/', 
				post.data.img, 
				"(min-width: 1560px) calc(-1.11vw + 332px), (min-width: 880px) calc(19.24vw + 19px), (min-width: 560px) 47.67vw, 97.08vw",
				post.data.alt 
			) }}
		</a>
		{% endif %}
		{% if post.data.feat_img.img %}
			<a href="{{ post.url | url }}" aria-hidden="true" tabindex="-1">
				{% cloudrespimg
					post.data.feat_img.img,
					post.data.feat_img.alt,
					"(min-width: 1560px) calc(-1.11vw + 332px), (min-width: 880px) calc(19.24vw + 19px), (min-width: 560px) 47.67vw, 97.08vw"
				%}
			</a>
		{% endif %}
		<div class="art-content">
			<h3 class="article-hed"><a href="{{ post.url | url }}" class="postlist-link">{% if post.data.title %}{{ post.data.title }}{% else %}<code>{{ post.url }}</code>{% endif %}</a></h3>
			<p class="lede">{{ post.data.lede | safe }}</p>
		</div>
	</article>
	{% endfor %}
</div>